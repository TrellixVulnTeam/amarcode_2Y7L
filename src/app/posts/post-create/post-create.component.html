<div class="container-md">
    <div class="row">
        <div class="col-sm-12">
            <mat-card>
                <form [formGroup]="form" (submit)="onAddPost(formDirective)" #formDirective="ngForm">
                    <mat-form-field>
                        <mat-label>Title</mat-label>
                        <input matInput formControlName="title">
                        <mat-error *ngIf="form.get('title').invalid">Enter a title.</mat-error>
                    </mat-form-field>
                    <div>
                        <button mat-stroked-button type="button" (click)="imagePicker.click()">Pick Image</button>
                        <button mat-stroked-button type="button" (click)="videoPicker.click()">Pick Video</button>
                        <input type="file" style="visibility: hidden;" #imagePicker (change)="onImagePicked($event)">
                        <input type="file" style="visibility: hidden;" #videoPicker (change)="onVideoPicked($event)">
                    </div>
                    <div class="image-preview" 
                        *ngIf="imagePreview !=='' && imagePreview && form.get('image').valid">
                        <img [src]="imagePreview" [alt]="form.value.title">
                    </div>
                    <mat-error *ngIf="imagePreview && form.get('image').invalid">Choose a valid image.</mat-error>
                    <mat-form-field>
                        <mat-label>Content</mat-label>
                        <textarea matInput rows="4" formControlName="content"></textarea>
                        <mat-error *ngIf="form.get('content').invalid">Enter a content.</mat-error>
                    </mat-form-field>
                    <button class="btn btn-secondary" type="submit">Upload</button>
                </form>
            </mat-card> 
        </div>
    </div>
</div>
